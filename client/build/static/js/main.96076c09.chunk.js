(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,r){},225:function(e,t,r){},226:function(e,t,r){},227:function(e,t,r){},228:function(e,t,r){},229:function(e,t,r){},230:function(e,t,r){},231:function(e,t,r){},232:function(e,t,r){},233:function(e,t,r){},234:function(e,t,r){},235:function(e,t,r){},236:function(e,t,r){},237:function(e,t,r){},247:function(e,t,r){},248:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),s=r(29),c=r.n(s),i=(r(99),r(54),r(6)),A=(r(100),r(3)),g=r(14),l=r(2),o=r.n(l),u=r(5),d=r(91),j=r.n(d).a.create({baseURL:"http://localhost:8080/api"});j.interceptors.response.use((function(e){return e.config.url.startsWith("/auth/signin")&&localStorage.setItem("TOKEN",e.data.accessToken),e}),(function(e){return 401===e.response.status&&localStorage.removeItem("TOKEN"),Promise.reject(e)})),j.interceptors.request.use((function(e){return console.log("config: ",e),e.url.startsWith("/auth")||(e.headers={"x-access-token":localStorage.getItem("TOKEN")||""}),e}),(function(e){return Promise.reject(e)}));var b=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.post("/auth/signin",t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),C=Object(g.b)({name:"auth",initialState:{error:null,currentUser:null},reducers:{setError:function(e,t){var r=t.payload;e.error=r.error},clearError:function(e){e.error=null},setCurrentUser:function(e,t){var r=t.payload;e.currentUser=r.currentUser},removeCurrentUser:function(e){e.currentUser=null}}}),I=C.reducer,m=C.actions,p=m.setError,x=(m.clearError,m.setCurrentUser),v=m.removeCurrentUser,O=function(e){return e.auth.error},h=function(){return JSON.parse(localStorage.getItem("USER_ID"))||null},f=Object(g.b)({name:"app",initialState:{isLoading:!1,isAuth:!1},reducers:{startLoading:function(e){e.isLoading=!0},stopLoading:function(e){e.isLoading=!1},authSuccess:function(e){e.isAuth=null!==localStorage.getItem("TOKEN")},logout:function(e,t){var r=t.payload;e.isAuth=r.isAuth}}}),N=f.reducer,y=f.actions,w=y.startLoading,k=y.stopLoading,L=y.authSuccess,S=y.logout,U=function(e){return e.app.isLoading},V=function(e){return e.app.isAuth},E=r(8),z=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.get("/users");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.post("/auth/signup",t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(o.a.mark((function e(t,r){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.put("/users/".concat(t),r);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),R=Object(g.b)({name:"user",initialState:{users:[],error:null},reducers:{setUsers:function(e,t){var r=t.payload;e.users=r.users},addUser:function(e,t){var r=t.payload;e.users.push(r)},setError:function(e,t){var r=t.payload;e.error=r.error}}}),F=R.reducer,M=R.actions,G=M.setUsers,W=M.addUser,K=(M.addNewValueToUser,M.setError),Z=function(e){return e.user.users},X=function(e){return e.user.error},Y=function(){return function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(K({error:null})),t(w()),e.prev=2,e.next=5,z();case 5:r=e.sent,t(G({users:r})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),t(K({error:e.t0.message})),console.log(e.t0.message);case 13:return e.prev=13,t(k()),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(t){return e.apply(this,arguments)}}()},q=function(e,t){return function(){var r=Object(u.a)(o.a.mark((function r(a){return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(K({error:null})),a(w()),r.prev=2,r.next=5,T(e,t);case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(2),a(K({error:r.t0.message}));case 10:return r.prev=10,a(k()),r.finish(10);case 13:case"end":return r.stop()}}),r,null,[[2,7,10,13]])})));return function(e){return r.apply(this,arguments)}}()},J=function(e,t){return e.find((function(e){return e._id===t}))},P=r(0);function D(){var e=Object(A.c)(V),t=Object(A.b)(),r=h();Object(a.useEffect)((function(){t(Y())}),[t]);var n=Object(A.c)(Z),s=J(n,r);return console.log("auth: ",e),Object(P.jsx)("div",{id:"wrapper-header",children:Object(P.jsxs)("div",{className:"header",children:[Object(P.jsx)(i.b,{to:"/",children:Object(P.jsxs)("div",{id:"logo",children:[Object(P.jsx)("div",{id:"logo-circle-1"}),Object(P.jsx)("div",{id:"logo-circle-2"})]})}),0===n.length?Object(P.jsx)("div",{}):e?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("ul",{className:"nav-top",children:[Object(P.jsx)(i.b,{className:"nav-top-li",to:"/user/".concat(r,"/me"),children:Object(P.jsx)("div",{id:"nav-top-me",style:{background:"url(".concat("http://localhost:8080/images/"+s.img,") no-repeat center"),backgroundSize:"cover"}})}),Object(P.jsx)("li",{children:Object(P.jsx)(i.b,{className:"nav-top-li",to:"/users",children:"Find a partner"})}),Object(P.jsx)("li",{children:Object(P.jsx)(i.b,{className:"nav-top-li",to:"/blog",children:"Blog"})})]}),Object(P.jsx)("div",{className:"text-end",children:Object(P.jsx)(i.b,{className:"nav-top-li",to:"/",onClick:function(){return t((function(e){localStorage.removeItem("USER_ID"),localStorage.removeItem("TOKEN"),e(v()),e(S({isAuth:!1}))}))},children:"Logout"})})]}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("ul",{className:"nav-top",children:[Object(P.jsx)("li",{children:Object(P.jsx)(i.b,{className:"nav-top-li",to:"/users",children:"Find a partner"})}),Object(P.jsx)("li",{children:Object(P.jsx)(i.b,{className:"nav-top-li",to:"/blog",children:"Blog"})})]}),Object(P.jsx)("div",{className:"text-end",children:Object(P.jsx)(i.b,{className:"nav-top-li",to:"/auth/login",children:"Login"})})]})]})})}var H=r(4),Q=r(9),_=r(7),$=r(16),ee=r(21),te=(r(225),function(e){var t=e.text;return Object(P.jsx)("div",{id:"box-error",children:Object(P.jsx)("p",{id:"text-error",children:t})})}),re=(r(28),["name","label","error","type","className"]);var ae=function(e){var t=e.name,r=e.label,a=e.error,n=e.type,s=e.className,c=Object(ee.a)(e,re);return Object(P.jsxs)("div",{className:s,children:[Object(P.jsx)("div",{children:Object(P.jsx)("input",Object(E.a)({className:"width-100",type:n,name:t},c))}),Object(P.jsx)("div",{className:"lb-reg",children:Object(P.jsxs)("label",{htmlFor:t,children:[" ",r]})}),a&&Object(P.jsx)(te,{text:a})]})},ne=["label","name","options","error"];var se=function(e){var t=e.label,r=e.name,a=e.options,n=e.error,s=Object(ee.a)(e,ne);return Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{children:Object(P.jsx)("select",Object(E.a)(Object(E.a)({className:"width-100",id:r,name:r},s),{},{children:a.map((function(e){return null===e.value?Object(P.jsx)("option",{value:e.value,disabled:!0,children:e.key}):Object(P.jsx)("option",{value:e.value,placeholder:"options",children:e.key})}))}))}),Object(P.jsx)("div",{className:"lb-reg",children:Object(P.jsx)("label",{htmlFor:r,children:t})}),n&&Object(P.jsx)(te,{text:n})]})},ce=["label","name","options","error"];var ie=function(e){e.label,e.name;var t=e.options,r=e.error,a=Object(ee.a)(e,ce);return Object(P.jsxs)("div",{className:"two-columns",children:[Object(P.jsx)("div",{children:t.map((function(e){return Object(P.jsxs)("label",{className:"radio-btns text-gray",htmlFor:e.value,children:[Object(P.jsx)("input",Object(E.a)({className:"radio ",type:"radio",id:e.value,value:e.value,name:"gender"},a)),e.key]},e.key)}))}),Object(P.jsx)("div",{}),r&&Object(P.jsx)("p",{children:r})]})},Ae=["label","id","error","className"];var ge=function(e){var t=e.label,r=e.id,a=e.error,n=e.className,s=Object(ee.a)(e,Ae);return Object(P.jsxs)("div",{className:n,children:[Object(P.jsx)("div",{children:Object(P.jsx)("textarea",Object(E.a)({className:"width-100 reg-textarea",id:r},s))}),Object(P.jsx)("div",{className:"lb-reg",children:Object(P.jsx)("label",{htmlFor:r,children:t})}),a&&Object(P.jsx)("p",{children:a})]})},le=function(){var e=n.a.useState(null),t=Object(Q.a)(e,2),r=t[0],a=t[1],s=n.a.useState(null),c=Object(Q.a)(s,2),i=c[0],g=c[1],l=Object(A.b)(),d=n.a.useCallback(Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new FormData).append("image",r),console.log("data: ",r),e.next=6,j.post("/upload",t,{headers:{"content-type":"multipart/form-data"}}).then((function(e){return console.log("res",e),g(e.data.filename)}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[r]),b=Object(A.c)(X);console.log("errByAddUser: ",b);var C,I=[{key:"choose language",value:null},{key:"english",value:"english"},{key:"german",value:"german"},{key:"french",value:"french"},{key:"spanish",value:"spanish"},{key:"russian",value:"russian"},{key:"italian",value:"italian"},{key:"portuguese",value:"portuguese"}],m=_.b({firstName:_.d().required().min(2),lastName:_.d().required().min(2),gender:_.d().required(),email:_.d().required(),password:_.d().required(),age:_.a(),zip:_.d().required(),passwordConfirm:_.d().oneOf([_.c("password"),null],"Passwords must match"),img:_.d(),about:_.d(),description:_.d(),interests:_.d(),nativeLanguage:_.d().required("Required"),practiceLanguage:_.d().required("Required")}),p=Object($.b)({defaultValues:{firstName:"",lastName:"",gender:"",email:"",password:"",passwordConfirm:"",age:null,img:"",about:"",zip:null,nativeLanguage:"",practiceLanguage:"",interests:"",description:""},validate:(C=m,function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,e.next=4,C.validate(t,{abortEarly:!1});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),e.t0.inner.forEach((function(e){var t=e.path,a=e.message;return Object($.a)(r,t,a)}));case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()),onSubmit:function(e,t){var r,a=t.reset;console.log("onSubmit: ",e),l((r=Object(E.a)(Object(E.a)({},e),{},{img:i}),function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(K({error:null})),t(w()),e.prev=2,e.next=5,B(r);case 5:a=e.sent,t(W(Object(E.a)({},a))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("err.message: ",e.t0.message),t(K({error:e.t0.message}));case 13:return e.prev=13,t(k()),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(t){return e.apply(this,arguments)}}())),a()}}),x=p.form,v=(0,p.use)("errors",{errorWithTouched:!0});return Object(P.jsx)("div",{className:"wrapper",children:Object(P.jsxs)("div",{id:"wrapper-reg",children:[Object(P.jsx)("div",{id:"box-reg-left",children:Object(P.jsxs)("div",{children:[i?Object(P.jsx)("div",{id:"avatar",style:{background:"url(http://localhost:8080/images/".concat(i,") no-repeat center"),backgroundSize:"cover"},alt:"avatar"}):Object(P.jsx)("div",{id:"avatar",style:{background:"url(".concat("data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEBLAEsAAD/4QBWRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAAEsAAAAAQAAASwAAAAB/+0ALFBob3Rvc2hvcCAzLjAAOEJJTQQEAAAAAAAPHAFaAAMbJUccAQAAAgAEAP/hDIFodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvADw/eHBhY2tldCBiZWdpbj0n77u/JyBpZD0nVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkJz8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0nYWRvYmU6bnM6bWV0YS8nIHg6eG1wdGs9J0ltYWdlOjpFeGlmVG9vbCAxMC4xMCc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczp0aWZmPSdodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyc+CiAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICA8dGlmZjpYUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpYUmVzb2x1dGlvbj4KICA8dGlmZjpZUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpZUmVzb2x1dGlvbj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wTU09J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8nPgogIDx4bXBNTTpEb2N1bWVudElEPmFkb2JlOmRvY2lkOnN0b2NrOjI2ZDgyYTA4LTRlODktNGY5NC1hZTYwLWZjNGVmZWM0YTMwYjwveG1wTU06RG9jdW1lbnRJRD4KICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOmYxODk4MjZlLTU5MTYtNGU1My1hM2UzLWI0MzA2MmMzYzAwNDwveG1wTU06SW5zdGFuY2VJRD4KIDwvcmRmOkRlc2NyaXB0aW9uPgo8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSd3Jz8+/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/8AACwgA8ADwAQERAP/EAB0AAQACAgMBAQAAAAAAAAAAAAAHCAUGAQMEAgn/xAA7EAACAQMCAgYGCQMFAQAAAAAAAQIDBAUGEQcxEiFBYXGBEzJRkaGxCBQiNkJ0krLBM0OCUmJywvCT/9oACAEBAAA/AP1TAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPipVhSg5TkoRXNyeyMZW1ZhLZ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",") no-repeat center"),backgroundSize:"100%"},alt:"defaultAvatar"}),Object(P.jsx)("input",{id:"upload",type:"file",style:{display:"none"},onChange:function(e){return a(e.target.files[0])}}),Object(P.jsxs)("div",{id:"btns-upload",children:[Object(P.jsx)("input",{id:"btn-upload",value:"browse...",type:"button",onClick:function(){return document.getElementById("upload").click()},name:"img"}),Object(P.jsx)("button",{id:"btn-setAvatar",onClick:d,children:"set avatar"})]})]})}),Object(P.jsxs)("div",{className:"box-reg-right",children:[b?Object(P.jsx)(te,{text:b}):Object(P.jsx)("div",{}),Object(P.jsx)("h4",{id:"title-reg",children:"Registration form"}),Object(P.jsxs)("form",{className:"form-registration",ref:x,method:"POST",enctype:"multipart/form-data",children:[Object(P.jsx)(ie,{id:"gender",label:"Sex",name:"gender",options:[{key:"Male",value:"m"},{key:"Female",value:"f"}],error:v.gender}),Object(P.jsx)(ae,{id:"firstName",type:"text",label:"First name",name:"firstName",error:v.firstName}),Object(P.jsx)(ae,{id:"lastName",type:"text",label:"Last name",name:"lastName",error:v.lastName}),Object(P.jsx)(ae,{id:"email",type:"email",label:"Email",name:"email",className:"two-columns",error:v.email}),Object(P.jsx)(ae,{id:"password",type:"password",label:"password",name:"password",error:v.password}),Object(P.jsx)(ae,{id:"passwordConfirm",type:"password",label:"Password confirmation",name:"passwordConfirm",error:v.password}),Object(P.jsx)(ae,{id:"age",type:"number",label:"Age",name:"age",error:v.age}),Object(P.jsx)(ae,{id:"zip",type:"number",label:"Your ZIP(must be in Berlin)",name:"zip"}),Object(P.jsx)(se,{label:"Your native language",name:"nativeLanguage",options:I,error:v.nativeLanguage}),Object(P.jsx)(se,{label:"Language you want to practice",name:"practiceLanguage",options:I,error:v.practiceLanguage}),Object(P.jsx)(ae,{id:"about",type:"text",label:"Short infomation",name:"about",className:"two-columns"}),Object(P.jsx)(ge,{label:"Interests",id:"interests",name:"interests",error:v.interests,className:"two-columns"}),Object(P.jsx)(ge,{label:"About yourself",id:"description",name:"description",error:v.description,className:"two-columns"}),Object(P.jsx)("input",{className:"btn-submit",type:"submit"})]})]})]})})},oe=(r(226),r(227),function(e){var t=e.text;return Object(P.jsx)("div",{id:"box-error-login",children:Object(P.jsx)("p",{id:"text-error-login",children:t})})}),ue=function(){var e=Object(A.b)(),t=Object(A.c)(V),r=h(),a=Object(A.c)(O),n=Object($.b)({defaultValues:{email:"",password:""},onSubmit:function(t,r){var a,n=r.reset;e((a=t,function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(p({error:null})),t(w()),e.prev=2,e.next=5,b(a);case 5:r=e.sent,console.log("login action: ",r),localStorage.setItem("USER_ID",JSON.stringify(r.id)),t(x({currentUser:r.id})),t(L()),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),t(p({error:e.t0.message}));case 15:return e.prev=15,t(k()),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}())),n()}}),s=n.form;return console.log("auth: ",t),Object(P.jsxs)("div",{children:[a&&Object(P.jsx)(oe,{text:a}),Object(P.jsxs)("div",{className:"box-login",children:[t&&Object(P.jsx)(H.a,{to:"/user/".concat(r,"/me")}),Object(P.jsxs)("form",{ref:s,noValidate:!0,children:[Object(P.jsx)("div",{className:"box-header",children:Object(P.jsx)("h4",{className:"styled-h4",children:"Login"})}),Object(P.jsxs)("div",{className:"box-body",children:[Object(P.jsx)("div",{children:Object(P.jsx)("input",{className:"width-100 styled-inp",name:"email",type:"email",id:"email",placeholder:"e.g. example@test.com"})}),Object(P.jsx)("div",{children:Object(P.jsx)("label",{className:"label text-gray",htmlFor:"email",children:"Your E-mail"})}),Object(P.jsx)("div",{children:Object(P.jsx)("input",{className:"width-100 styled-inp",name:"password",type:"password",placeholder:"type your password"})}),Object(P.jsx)("div",{children:Object(P.jsx)("label",{className:"label text-gray",htmlFor:"password",children:"Your password"})}),Object(P.jsx)("h6",{className:"styled-h6",children:"Forgot Username or password?"})]}),Object(P.jsx)("div",{className:"box-btns",children:Object(P.jsx)("input",{className:"btn-login",type:"submit",value:"log in"})}),Object(P.jsxs)("div",{className:"box-footer",children:[Object(P.jsx)("div",{children:Object(P.jsx)("p",{className:"styled-p",children:"Don't have an account?"})}),Object(P.jsx)("br",{}),Object(P.jsx)(i.b,{to:"/auth/signup",children:Object(P.jsx)("button",{className:"btn-reg",children:"Sign up now"})})]})]})]})]})},de=(r(228),r.p+"static/media/26451688.8a4c9451.jpg"),je=function(){return Object(P.jsxs)("div",{id:"home-wrapper",children:[Object(P.jsx)("img",{id:"home-bg",src:de,alt:"bg-home"}),Object(P.jsx)("div",{id:"home-text",children:Object(P.jsx)("h1",{id:"home-text-h1",children:"Practice with Us!"})})]})},be=(r(229),r(230),function(e){var t=e.user;return Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{id:"user-img",style:{background:"url(".concat("http://localhost:8080/images/"+t.img,") no-repeat center"),backgroundSize:"cover"}}),Object(P.jsx)("div",{id:"user-info",children:Object(P.jsxs)("div",{id:"user-mainInfo",children:[Object(P.jsxs)("h4",{className:"user-name",children:[t.firstName," ",t.lastName]}),Object(P.jsx)("p",{className:"user-card-text",children:"Native: "}),Object(P.jsx)("p",{className:"user-card-text",children:t.nativeLanguage}),Object(P.jsx)("p",{className:"user-card-text",children:" | "}),Object(P.jsx)("p",{className:"user-card-text",children:"Practice: "}),Object(P.jsx)("p",{className:"user-card-text",children:t.practiceLanguage}),Object(P.jsx)("br",{}),Object(P.jsx)("br",{}),Object(P.jsx)("p",{className:"user-card-text",children:t.about})]})})]})}),Ce=(r(231),function(){var e=Object(a.useState)(null),t=Object(Q.a)(e,2),r=t[0],n=t[1],s=Object(a.useState)(null),c=Object(Q.a)(s,2),i=c[0],A=c[1],g=Object(H.g)(),l=[{key:"choose language",value:null},{key:"english",value:"english"},{key:"german",value:"german"},{key:"french",value:"french"},{key:"spanish",value:"spanish"},{key:"russian",value:"russian"},{key:"italian",value:"italian"},{key:"portuguese",value:"portuguese"}];return Object(P.jsx)("div",{className:"wrapper",children:Object(P.jsx)("form",{id:"form-search",children:Object(P.jsxs)("div",{id:"wrapper-search",children:[Object(P.jsx)("div",{className:"box-search-languages",children:Object(P.jsxs)("div",{className:"m-center",children:[Object(P.jsx)("div",{className:"lb-search",children:Object(P.jsx)("label",{htmlFor:"nativeLanguage",children:"Find users by native language:"})}),Object(P.jsx)("select",{className:"select-custom",onChange:function(e){n(e.target.value)},children:l.map((function(e,t){return Object(P.jsx)("option",{name:"nativeLanguage",value:e.value,children:e.key},t)}))})]})}),Object(P.jsx)("div",{className:"box-search-languages",children:Object(P.jsxs)("div",{className:"m-center",children:[Object(P.jsx)("div",{className:"lb-search",children:Object(P.jsx)("label",{htmlFor:"practiceLanguage",children:"Find users by language they practice:"})}),Object(P.jsx)("select",{className:"select-custom",onChange:function(e){A(e.target.value)},children:l.map((function(e,t){return Object(P.jsx)("option",{name:"practiceLanguage",value:e.value,children:e.key},t)}))})]})}),Object(P.jsx)("div",{id:"box-search-btn",children:Object(P.jsx)("div",{className:"m-center",children:Object(P.jsx)("button",{id:"btn-search",onClick:function(){return g(r&&i?"/users/native=".concat(r,"/practice=").concat(i):r?"/users/native=".concat(r):"/users/practice=".concat(i))},children:"search"})})})]})})})}),Ie=function(){var e=h(),t=Object(A.b)();console.log(e),Object(a.useEffect)((function(){t(Y())}),[t]);var r=Object(A.c)(Z);return Object(P.jsxs)("div",{id:"wrapper",children:[Object(P.jsx)(Ce,{}),Object(P.jsx)("div",{id:"wrapper-users",children:r.map((function(t){if(e!==t._id)return Object(P.jsx)(i.b,{id:"box",to:"/users/".concat(t._id),children:Object(P.jsx)(be,{user:t},t._id)},t._id)}))})]})},me=function(){return Object(P.jsx)("div",{children:Object(P.jsx)("p",{children:"userHomePage"})})},pe=function(){return Object(P.jsx)("div",{})},xe=(r(85),function(e){var t,r=e.currentUser,a=Object(A.b)(),s=n.a.useState(null),c=Object(Q.a)(s,2),i=c[0],g=c[1],l=n.a.useState(null),d=Object(Q.a)(l,2),b=d[0],C=d[1],I=n.a.useCallback(Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new FormData).append("image",i),console.log("data: ",i),e.next=6,j.post("/upload",t,{headers:{"content-type":"multipart/form-data"}}).then((function(e){return console.log("res",e),C(e.data.filename)}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[i]),m=[{key:"choose language",value:null},{key:"english",value:"english"},{key:"german",value:"german"},{key:"french",value:"french"},{key:"spanish",value:"spanish"},{key:"russian",value:"russian"},{key:"italian",value:"italian"},{key:"portuguese",value:"portuguese"}],p={firstName:r.firstName,lastName:r.lastName,gender:r.gender,email:r.email,age:r.age,img:r.img,about:r.about,zip:r.zip,nativeLanguage:r.nativeLanguage,practiceLanguage:r.practiceLanguage,interests:r.interests,description:r.description},x=_.b({firstName:_.d().required().min(2),lastName:_.d().required().min(2),gender:_.d().required(),email:_.d().required(),age:_.a(),zip:_.d().required(),img:_.d(),about:_.d(),description:_.d(),interests:_.d(),nativeLanguage:_.d().required("Required"),practiceLanguage:_.d().required("Required")}),v=Object($.b)({defaultValues:p,validate:(t=x,function(){var e=Object(u.a)(o.a.mark((function e(r){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.prev=1,e.next=4,t.validate(r,{abortEarly:!1});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),e.t0.inner.forEach((function(e){var t=e.path,r=e.message;return Object($.a)(a,t,r)}));case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()),onSubmit:function(e){console.log("onSubmit: ",e),a(q(r._id,i?Object(E.a)(Object(E.a)({},e),{},{img:b}):e))}}),O=v.form,h=(0,v.use)("errors",{errorWithTouched:!0});return Object(P.jsxs)("div",{id:"wrapper-profile",children:[Object(P.jsx)("div",{id:"box-profile-information",children:Object(P.jsxs)("div",{children:[Object(P.jsx)("h4",{children:"Profile information: "}),Object(P.jsxs)("form",{className:"form-profile",ref:O,method:"POST",enctype:"multipart/form-data",children:[Object(P.jsx)(ie,{id:"gender",label:"Sex",name:"gender",options:[{key:"Male",value:"m"},{key:"Female",value:"f"}],error:h.gender}),Object(P.jsx)(ae,{id:"firstName",type:"text",label:"First name",name:"firstName",error:h.firstName}),Object(P.jsx)(ae,{id:"lastName",type:"text",label:"Last name",name:"lastName",error:h.lastName}),Object(P.jsx)(ae,{id:"email",type:"email",label:"Email",name:"email",className:"two-columns",error:h.email}),Object(P.jsx)(ae,{id:"age",type:"number",label:"Age",name:"age",error:h.age}),Object(P.jsx)(ae,{id:"zip",type:"number",label:"Your ZIP(must be in Berlin)",name:"zip"}),Object(P.jsx)(se,{label:"Your native language",name:"nativeLanguage",options:m,error:h.nativeLanguage}),Object(P.jsx)(se,{label:"Language you want to practice",name:"practiceLanguage",options:m,error:h.practiceLanguage}),Object(P.jsx)(ae,{id:"about",type:"text",label:"Short infomation",name:"about",className:"two-columns"}),Object(P.jsx)(ge,{label:"Interests",id:"interests",name:"interests",error:h.interests,className:"two-columns"}),Object(P.jsx)(ge,{label:"About yourself",id:"description",name:"description",error:h.description,className:"two-columns"}),Object(P.jsx)("input",{className:"btn-submit",type:"submit"})]})]})}),Object(P.jsxs)("div",{id:"box-profile-avatar",children:[b?Object(P.jsx)("div",{id:"profile-avatar",style:{background:"url(http://localhost:8080/images/".concat(b,") no-repeat center"),backgroundSize:"cover"},alt:"avatar"}):Object(P.jsx)("div",{id:"profile-avatar",style:{background:"url(http://localhost:8080/images/".concat(r.img,") no-repeat center"),backgroundSize:"cover"},alt:"defaultAvatar"}),Object(P.jsx)("input",{id:"upload",type:"file",style:{display:"none"},onChange:function(e){return g(e.target.files[0])}}),Object(P.jsxs)("div",{id:"btns-upload",children:[Object(P.jsx)("input",{id:"btn-upload",value:"browse...",type:"button",onClick:function(){return document.getElementById("upload").click()},name:"img"}),Object(P.jsx)("button",{id:"btn-setAvatar",onClick:I,children:"change avatar"})]})]})]})}),ve=function(){var e=h(),t=Object(A.b)(),r=Object(A.c)(Z),n=J(r,e);return Object(a.useEffect)((function(){n||t(Y())}),[t,n]),Object(P.jsx)(P.Fragment,{children:n&&Object(P.jsx)(xe,{currentUser:n})})},Oe=(r(86),r.p+"static/media/envelope.d3049b2d.svg"),he=r.p+"static/media/user (2).be851f03.svg",fe=r.p+"static/media/star.3867327e.svg",Ne=function(){var e=h();return Object(P.jsx)("div",{id:"menu-left",children:Object(P.jsxs)("ul",{className:"nav-left",children:[Object(P.jsx)(i.b,{to:"/user/".concat(e,"/me/profile"),className:"no-decoration",children:Object(P.jsxs)("li",{className:"nav-left-li",children:[Object(P.jsx)("img",{id:"svg-img",src:he,alt:"img"}),"Profile"]})}),Object(P.jsx)(i.b,{to:"/user/".concat(e,"/me/messages"),className:"no-decoration",children:Object(P.jsxs)("li",{className:"nav-left-li",children:[Object(P.jsx)("img",{id:"svg-img",src:Oe,alt:"img"}),"Messages"]})}),Object(P.jsx)(i.b,{to:"/user/".concat(e,"/me/favourites"),className:"no-decoration",children:Object(P.jsxs)("li",{className:"nav-left-li",children:[Object(P.jsx)("img",{id:"svg-img",src:fe,alt:"img"}),"Favourites"]})})]})})},ye=(r(232),function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.get("/messages");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()),we=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.post("/messages",t);case 3:return r=e.sent,console.log(r.data),e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ke=Object(g.b)({name:"messages",initialState:{messages:[]},reducers:{setMessages:function(e,t){var r=t.payload;e.messages=r.messages},addMessage:function(e,t){var r=t.payload;e.messages.push(r)}}}),Le=ke.reducer,Se=ke.actions,Ue=Se.setMessages,Ve=Se.addMessage,Ee=function(e){return e.messages.messages},ze=function(){return function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ye();case 3:r=e.sent,t(Ue({messages:r})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Be=function(e){return function(){var t=Object(u.a)(o.a.mark((function t(r){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,we(e);case 3:a=t.sent,r(Ve(Object(E.a)({},a))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},Te=function(e){var t=e.messages,r=e.currentUserId,a=e.id,n=t.filter((function(e){return e.sentBy===a&&e.recipient===r||e.sentBy===r&&e.recipient===a}));return console.log("messages:",t),Object(P.jsx)("div",{children:n.map((function(e,t){var a=e.createdAt.split("T")[0],n=e.createdAt.split("T")[1],s=a.split("-")[2]+"."+a.split("-")[1],c=n.split(":")[0]+":"+n.split(":")[1];return e.sentBy===r?Object(P.jsxs)("div",{className:"right",children:[e.text,Object(P.jsx)("p",{id:"sign",children:"me"}),Object(P.jsxs)("p",{className:"dateAnDTimeRight",children:[s,"   ",c]})]},t):Object(P.jsxs)("div",{className:"left",children:[e.text,Object(P.jsxs)("p",{className:"dateAnDTimeLeft",children:[s,"   ",c]})]},t)}))})},Re=function(){var e=Object(A.c)(Z),t=Object(A.b)();Object(a.useEffect)((function(){t(Y())}),[t]);var r=Object(A.c)(Ee);Object(a.useEffect)((function(){var e=setInterval((function(){t(ze())}),5e3);return function(){clearInterval(e),!1}}));var n=Object(H.g)(),s=h(),c=Object(H.h)().id,i=J(e,c),g=Object($.b)({defaultValues:{text:""},onSubmit:function(e,r){var a=r.reset,n=Object(E.a)(Object(E.a)({},e),{},{sentBy:s,recipient:c});console.log("onSubmit: ",n),t(Be(n)),a()}}).form;return Object(P.jsxs)("div",{className:"wrapper-msg",children:[Object(P.jsxs)("div",{className:"wrapper-msg-left",children:[Object(P.jsx)("div",{id:"box-top-msgs",children:0!==r.length&&Object(P.jsx)(Te,{messages:r,currentUserId:s,id:c})}),Object(P.jsx)("div",{id:"box-bottom-input",children:Object(P.jsxs)("form",{id:"box-bottom-form",ref:g,children:[Object(P.jsxs)("div",{id:"box-bottom-message",children:[Object(P.jsx)("textarea",{id:"textarea-msg",name:"text",placeholder:"Write your message"}),Object(P.jsx)("br",{})]}),Object(P.jsx)("button",{id:"btn-send",type:"submit",children:"Send"})]})})]}),0!==e.length&&Object(P.jsx)("div",{className:"wrapper-msg-right",children:Object(P.jsxs)("div",{id:"box-right",children:[Object(P.jsx)("div",{id:"box-right-top",children:Object(P.jsx)("div",{id:"box-right-img",style:{background:"url(".concat("http://localhost:8080/images/"+i.img,") no-repeat center"),backgroundSize:"cover"}})}),Object(P.jsxs)("div",{id:"box-right-bottom",children:[Object(P.jsxs)("div",{id:"box-right-bottom-info",children:[Object(P.jsxs)("h4",{id:"text-user-name",children:[i.firstName," ",i.lastName]}),Object(P.jsx)("p",{className:"text-user",id:"text-user-about",children:"Some user\xb4s information"}),Object(P.jsx)("br",{}),Object(P.jsxs)("p",{className:"text-user",id:"text-user-learn",children:["Learn: ",i.practiceLanguage]}),Object(P.jsxs)("p",{className:"text-user",id:"text-user-native",children:["Native: ",i.nativeLanguage]})]}),Object(P.jsx)("div",{id:"box-right-bottom-btn",children:Object(P.jsx)("button",{className:"right-bottom-btn",id:"btn-view-profile",onClick:function(){return n("/users/".concat(i._id))},children:"view profile"})})]})]})})]})},Fe=r(10),Me=(r(233),r(234),function(e){var t=e.user,r=e.messages,n=e.currentUserId,s=Object(A.b)();Object(a.useEffect)((function(){s(ze())}),[s]);var c=r.filter((function(e){return e.sentBy===t._id&&e.recipient===n||e.sentBy===n&&e.recipient===t._id})),i=c[c.length-1];return Object(P.jsxs)("div",{className:"box-message",children:[Object(P.jsx)("div",{className:"",children:Object(P.jsx)("div",{className:"avatar",style:{background:"url(".concat("http://localhost:8080/images/"+t.img,") no-repeat center"),backgroundSize:"cover"}})}),Object(P.jsxs)("h3",{className:"msg-sentBy",children:[t.firstName," ",t.lastName]}),i?Object(P.jsx)("p",{id:"msg-text",children:i.text}):Object(P.jsx)("div",{})]})}),Ge=function(){var e=Object(A.b)();Object(a.useEffect)((function(){e(ze())}),[e]),Object(a.useEffect)((function(){e(Y())}),[e]);var t=Object(A.c)(Ee),r=h(),n=Object(A.c)(Z),s=function(e,t){var r=[];return null!==e&&(r=t.filter((function(t){return t.recipient===e}))),r}(r,t),c=function(e,t){var r=[];return null!==e&&(r=t.filter((function(t){return t.sentBy===e}))),r}(r,t),g=s.filter((function(e,t,r){return r.findIndex((function(t){return t.sentBy===e.sentBy}))===t})),l=c.filter((function(e,t,r){return r.findIndex((function(t){return t.recipient===e.recipient}))===t}));g.push.apply(g,Object(Fe.a)(l));var o=g.map((function(e){return e.sentBy===r?e.recipient:e.sentBy})).filter((function(e,t,r){return r.indexOf(e)===t}));var u=function(){for(var e=[],t=0;t<o.length;t++){var r=J(n,o[t]);e.push(r)}return e}();return Object(P.jsx)("div",{children:Object(P.jsx)("div",{className:"wrapper-allUsers",children:Object(P.jsx)("div",{className:"allUsers",children:0===t.length||0===n.length?Object(P.jsx)("div",{}):Object(P.jsx)("div",{children:u.map((function(e){return Object(P.jsx)(i.b,{id:"box-msg",to:"/user/".concat(r,"/me/messages/").concat(e._id),children:Object(P.jsx)(Me,{user:e,users:n,messages:t,currentUserId:r},e._id)},e._id)}))})})})})},We=(r(235),r(236),function(e){var t=e.user;return Object(P.jsxs)("div",{id:"user-fav-box",children:[Object(P.jsx)("div",{id:"user-fav-img",style:{background:"url(".concat("http://localhost:8080/images/"+t.img,") no-repeat center"),backgroundSize:"cover"}}),Object(P.jsx)("div",{id:"user-fav-info",children:Object(P.jsxs)("div",{id:"user-fav-mainInfo",children:[Object(P.jsxs)("h4",{className:"user-fav-name",children:[t.firstName," ",t.lastName]}),Object(P.jsx)("p",{className:"user-fav-card-text",children:"Native: "}),Object(P.jsx)("p",{className:"user-fav-card-text",children:t.nativeLanguage}),Object(P.jsx)("p",{className:"user-card-text",children:" | "}),Object(P.jsx)("p",{className:"user-fav-card-text",children:"Practice: "}),Object(P.jsx)("p",{className:"user-fav-card-text",children:t.practiceLanguage}),Object(P.jsx)("br",{}),Object(P.jsx)("br",{})]})})]})}),Ke=function(e){var t=e.users,r=h(),a=J(t,r),n=a.favourites;console.log("currentUser: ",a);var s=function(){for(var e=[],r=function(r){var a=t.find((function(e){return e._id===n[r]}));e.push(a)},a=0;a<n.length;a++)r(a);return e}();return Object(P.jsx)("div",{id:"wrapper-favourites",children:s.map((function(e){return Object(P.jsx)(i.b,{id:"box-fav",to:"/users/".concat(e._id),children:Object(P.jsx)(We,{user:e},e._id)},e._id)}))})},Ze=function(){var e=Object(A.b)(),t=Object(A.c)(Z);return Object(a.useEffect)((function(){t||e(Y())}),[e,t]),Object(P.jsx)("div",{children:t.length&&Object(P.jsx)(Ke,{users:t})})},Xe=function(){return Object(P.jsxs)("div",{children:[Object(P.jsx)(Ne,{}),Object(P.jsxs)(H.d,{children:[Object(P.jsx)(H.b,{path:"profile",element:Object(P.jsx)(ve,{})}),Object(P.jsx)(H.b,{path:"messages/*",element:Object(P.jsx)(Ge,{})}),Object(P.jsx)(H.b,{path:"messages/:id/*",element:Object(P.jsx)(Re,{})}),Object(P.jsx)(H.b,{path:"favourites",element:Object(P.jsx)(Ze,{})})]})]})},Ye=(r(237),r(53)),qe=r.n(Ye),Je=function(){var e=Object(A.b)(),t=Object(A.c)(V),r=Object(H.g)();e(L()),Object(a.useEffect)((function(){e(Y())}),[e]);var n=Object(H.h)().id,s=Object(A.c)(Z),c=h(),i=J(s,c),g=J(s,n),l=Object($.b)({defaultValues:{text:""},onSubmit:function(t,r){var a=r.reset,s=Object(E.a)(Object(E.a)({},t),{},{sentBy:c,recipient:n});console.log("onSubmit: ",s),e(Be(s)),a()}}).form;qe.a.setAppElement(document.getElementById("root"));var d=Object(a.useState)(!1),j=Object(Q.a)(d,2),b=j[0],C=j[1];function I(){C(!1)}function m(){var t,r=Object.assign([],i.favourites);t=r.includes(g._id),console.log("isDouble:",t),t||(r.push(g._id),e(function(e,t){return function(){var r=Object(u.a)(o.a.mark((function r(a){return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(K({error:null})),a(w()),r.prev=2,r.next=5,T(e,{favourites:t});case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(2),a(K({error:r.t0.message}));case 10:return r.prev=10,a(k()),r.finish(10);case 13:case"end":return r.stop()}}),r,null,[[2,7,10,13]])})));return function(e){return r.apply(this,arguments)}}()}(c,r)))}return Object(P.jsx)(P.Fragment,{children:0!==s.length&&Object(P.jsxs)("div",{id:"wrapper-userView",children:[Object(P.jsxs)("div",{className:"box",id:"box-left",children:[Object(P.jsx)("div",{id:"box-left-top"}),Object(P.jsx)("div",{id:"box-left-img",style:{background:"url(".concat("http://localhost:8080/images/"+g.img,") no-repeat center"),backgroundSize:"cover"}}),Object(P.jsxs)("div",{id:"box-left-bottom",children:[Object(P.jsxs)("div",{id:"box-left-bottom-info",children:[Object(P.jsxs)("h4",{id:"text-user-name",children:[g.firstName," ",g.lastName]}),Object(P.jsx)("p",{className:"text-user",id:"text-user-about",children:g.about}),Object(P.jsx)("br",{}),Object(P.jsxs)("p",{className:"text-user",id:"text-user-learn",children:["Learn: ",g.practiceLanguage]}),Object(P.jsxs)("p",{className:"text-user",id:"text-user-native",children:["Native: ",g.nativeLanguage]})]}),t?Object(P.jsxs)("div",{id:"box-left-bottom-btns",children:[Object(P.jsx)("button",{className:"left-bottom-btns",id:"btn-add",onClick:function(){return m()},children:"add to favourites"}),Object(P.jsx)("button",{onClick:function(){C(!0)},className:"left-bottom-btns",id:"btn-contact",children:"send message"}),Object(P.jsxs)(qe.a,{isOpen:b,onRequestClose:I,style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"400px",height:"200px"}},contentLabel:"Example Modal",children:[Object(P.jsx)("button",{id:"modal-btn-close",onClick:I,children:"X"}),Object(P.jsx)("div",{id:"modal-title",children:"Write your message:"}),Object(P.jsxs)("form",{ref:l,noValidate:!0,children:[Object(P.jsx)("textarea",{id:"modal-text",name:"text"}),Object(P.jsx)("input",{id:"modal-btn-submit",type:"submit"})]})]})]}):Object(P.jsxs)("div",{id:"box-left-bottom-btns",children:[Object(P.jsx)("p",{className:"text-user p-bottom",children:"Please login or register to contact a person"}),Object(P.jsx)("button",{onClick:function(){return r("/auth/login")},className:"left-bottom-btns",id:"btn-contact",children:"login"})]})]})]}),Object(P.jsx)("div",{className:"box",id:"box-right",children:Object(P.jsxs)("div",{id:"box-right-content",children:[Object(P.jsx)("div",{children:Object(P.jsx)("h4",{children:"User Profile"})}),Object(P.jsxs)("div",{id:"box-right-firstName",className:"box-right-style",children:[Object(P.jsx)("p",{className:"profile-text-styled",children:"First name:"}),Object(P.jsx)("p",{className:"profile-text-styled",children:g.firstName})]}),Object(P.jsxs)("div",{id:"box-right-lastName",className:"box-right-style",children:[Object(P.jsx)("p",{className:"profile-text-styled",children:"Last name:"}),Object(P.jsx)("p",{className:"profile-text-styled",children:g.lastName})]}),Object(P.jsxs)("div",{id:"box-right-bdate",className:"box-right-style",children:[Object(P.jsx)("p",{className:"profile-text-styled",children:"Age:"}),Object(P.jsx)("p",{className:"profile-text-styled",children:g.age})]}),Object(P.jsxs)("div",{id:"box-right-address",className:"box-right-style",children:[Object(P.jsx)("p",{className:"profile-text-styled",children:"Address:"}),Object(P.jsxs)("p",{className:"profile-text-styled",children:["Berlin, ",g.zip]})]}),Object(P.jsxs)("div",{id:"box-right-interests",className:"box-right-style",children:[Object(P.jsx)("p",{className:"profile-text-styled",children:"Interests:"}),Object(P.jsx)("p",{className:"profile-text-styled",children:g.interests})]}),Object(P.jsxs)("div",{id:"box-right-aboutme",className:"box-right-style",children:[Object(P.jsx)("p",{className:"profile-text-styled",children:"About me:"}),Object(P.jsx)("p",{className:"profile-text-styled",children:g.description})]})]})}),Object(P.jsx)("div",{className:"box",id:"box-3"})]})})},Pe=function(){var e=Object(H.h)(),t=e.native,r=e.practice,n=Object(A.b)(),s=h();Object(a.useEffect)((function(){n(Y())}),[n]);var c=Object(A.c)(Z);console.log("native",t),console.log("practice",r);var g=c.filter((function(e){return e.nativeLanguage===t})).filter((function(e){return e.practiceLanguage===r}));return console.log("usersAfterFilterByTwolanguages: ",g),Object(P.jsxs)("div",{children:[Object(P.jsx)(Ce,{}),Object(P.jsx)("div",{id:"wrapper-users",children:g.map((function(e){if(s!==e._id)return Object(P.jsx)(i.b,{id:"box",to:"/users/".concat(e._id),children:Object(P.jsx)(be,{user:e},e._id)},e._id)}))})]})},De=function(){var e=Object(H.h)().native,t=Object(A.b)(),r=h();Object(a.useEffect)((function(){t(Y())}),[t]);var n=Object(A.c)(Z).filter((function(t){return t.nativeLanguage===e}));return console.log("usersAfterFilter by Native language: ",n),Object(P.jsxs)("div",{children:[Object(P.jsx)(Ce,{}),Object(P.jsx)("div",{id:"wrapper-users",children:n.map((function(e){if(r!==e._id)return Object(P.jsx)(i.b,{id:"box",to:"/users/".concat(e._id),children:Object(P.jsx)(be,{user:e},e._id)},e._id)}))})]})},He=function(){var e=Object(H.h)().practice,t=Object(A.b)(),r=h();Object(a.useEffect)((function(){t(Y())}),[t]);var n=Object(A.c)(Z).filter((function(t){return t.practiceLanguage===e}));return console.log("usersAfterFilter by Practice language: ",n),Object(P.jsxs)("div",{children:[Object(P.jsx)(Ce,{}),Object(P.jsx)("div",{id:"wrapper-users",children:n.map((function(e){if(r!==e._id)return Object(P.jsx)(i.b,{id:"box",to:"/users/".concat(e._id),children:Object(P.jsx)(be,{user:e},e._id)},e._id)}))})]})},Qe=(r(247),function(){return Object(P.jsx)("div",{id:"wrapper-loader",children:Object(P.jsx)("div",{id:"box-loader",children:Object(P.jsxs)("div",{className:"lds-ring",children:[Object(P.jsx)("div",{}),Object(P.jsx)("div",{}),Object(P.jsx)("div",{}),Object(P.jsx)("div",{})]})})})});var _e=function(){var e=Object(A.c)(U);return Object(A.b)()(L()),console.log("isloading: ",e),Object(P.jsxs)("div",{children:[Object(P.jsx)(D,{}),e?Object(P.jsx)(Qe,{}):Object(P.jsx)(P.Fragment,{}),Object(P.jsxs)(H.d,{children:[Object(P.jsx)(H.b,{path:"/",element:Object(P.jsx)(je,{})}),Object(P.jsx)(H.b,{path:"auth/login",element:Object(P.jsx)(ue,{})}),Object(P.jsx)(H.b,{path:"auth/signup",element:Object(P.jsx)(le,{})}),Object(P.jsx)(H.b,{path:"users/*",element:Object(P.jsx)(Ie,{})}),Object(P.jsx)(H.b,{path:"users/:id",element:Object(P.jsx)(Je,{})}),Object(P.jsx)(H.b,{path:"blog",element:Object(P.jsx)(pe,{})}),Object(P.jsx)(H.b,{path:"user/:id/*",element:Object(P.jsx)(me,{})}),Object(P.jsx)(H.b,{path:"user/:id/me/*",element:Object(P.jsx)(Xe,{})}),Object(P.jsx)(H.b,{path:"/users/native=:native/practice=:practice",element:Object(P.jsx)(Pe,{})}),Object(P.jsx)(H.b,{path:"/users/native=:native",element:Object(P.jsx)(De,{})}),Object(P.jsx)(H.b,{path:"/users/practice=:practice",element:Object(P.jsx)(He,{})})]})]})},$e=r(15),et=Object(g.b)({name:"img",initialState:{avatar:null,images:null},reducers:{setAvatar:function(e,t){var r=t.payload;e.avatar=r.avatar},addImg:function(e,t){var r=t.payload;e.images.push(r)}}}),tt=et.reducer,rt=et.actions,at=(rt.setAvatar,rt.addImg,rt.setError,Object($e.b)({user:F,app:N,messages:Le,auth:I,img:tt})),nt=Object(g.a)({reducer:at});c.a.render(Object(P.jsx)(n.a.StrictMode,{children:Object(P.jsx)(A.a,{store:nt,children:Object(P.jsx)(i.a,{children:Object(P.jsx)(_e,{})})})}),document.getElementById("root"))},28:function(e,t,r){},54:function(e,t,r){},85:function(e,t,r){},86:function(e,t,r){},99:function(e,t,r){}},[[248,1,2]]]);
//# sourceMappingURL=main.96076c09.chunk.js.map